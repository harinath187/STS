
{% extends "base.html" %}
 
{% block title %}Employee Dashboard{% endblock %}
 
{% block content %}
<div class="flex min-h-screen bg-gray-50">
 
  <!-- Sidebar -->
  <aside class="w-64 bg-white shadow-md flex flex-col fixed top-0 left-0 bottom-0">
    {% include "common/employee_dashboard.html" %}
  </aside>
 
  <!-- Main Content -->
  <main class="flex-1 ml-64 pt-8 pr-8 pb-8 pl-4">
<div class="max-w-2xl mx-auto bg-white p-6 rounded-xl shadow mt-8 relative">
  
  <!-- Back to Tasks button -->
  <div class="absolute top-0 right-0 mt-2 mr-2">
    <a href="{{ url_for('test_routes.test_tasks') }}" 
       class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Back to Tasks
    </a>
  </div>

  <h2 class="text-2xl font-bold mb-4">Create Support Ticket</h2>
  <form action="/create_support_ticket" method="POST" class="space-y-4">

    <div>
      <label for="dept_id" class="block font-medium">Department:</label>
      <select id="dept_id" name="dept_id" required class="w-full border rounded px-3 py-2">
       <option value="" disabled selected>Select department</option>
        {% for dept in departments %}
          <option value="{{ dept.dept_id }}">{{ dept.dept_name }}</option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label for="comments" class="block font-medium">Comments:</label>
      <textarea id="comments" name="comments" class="w-full border rounded px-3 py-2"></textarea>
    </div>

    <div>
      <label for="problem_description" class="block font-medium">Problem Description:</label>
      <textarea id="problem_description" name="problem_description" required class="w-full border rounded px-3 py-2"></textarea>
    </div>

    <div>
      <label for="priority" class="block font-medium">Priority:</label>
      <select id="priority" name="priority" class="w-full border rounded px-3 py-2">
        <option value="LOW">Low</option>
        <option value="MEDIUM">Medium</option>
        <option value="HIGH">High</option>
      </select>
    </div>

    <div class="flex space-x-4">
      <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
        Create Ticket
      </button>
      <button type="reset" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">
        Clear
      </button>
    </div>
  </form>
</div>
 
  </main>
</div>
{% endblock %}
